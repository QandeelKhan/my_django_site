{% extends "base.html" %}
{% block title %}{{post.title}}{% endblock %}
{% block content %}
<div class="post">
    {% if post.published_date %}
    
    <div class="date">
        {{ post.published_date }}
    </div>
    {% else %}
        <a href="{% url 'blog:post_publish' post.id %}" class="btn btn-primary">publish</a>
    {% endif %}
    {% if user.is_authenticated %}      
        <a href="{% url 'blog:post_edit' post.id %}"><i class="fas fa-edit fa-2x fa-spin" style="color: blue;"></i></a>
    {% endif %}
    <h1>{{ post.title }}</h1>
    <p>{{ post.text|linebreaksbr }}</p>
</div>
    <hr>
    <a href="{% url 'blog:add_comment_to_post' post.id %}" class="btn btn-secondary">Add comment</a>    
    {% for comment in post.comments.all %}
    <div class="comment">
        <div class="date">
            {{ comment.created_date }}
        </div>
        <strong>{{ comment.author }}</strong>
        <p>{{ comment.text }}</p>
    </div>
    {% empty %}
    <p>No comments yet...</p>
    {% endfor %}
{% endblock %}